import{d as S,r as V,G as T,I as x,u as D,s as F,e as a,o as i,f as c,k as o,w as t,h as A,j as _,b as d,J as B,K as b,F as R,m as M,T as $,g as h,H as z,L as H,M as q,i as G,t as j,_ as J}from"./index-e7XJbop6.js";var K={VITE_GLOB_APP_TITLE:"Admin",VITE_PORT:"1125",VITE_OPEN:"true",VITE_REPORT:"false",VITE_USER_NODE_ENV:"development",VITE_PUBLIC_PATH:"/",VITE_ROUTER_MODE:"history",VITE_DROP_CONSOLE:"true",VITE_PWA:"false",VITE_API_URL:"/api",VITE_PROXY:'[["/api","https://mock.mengxuegu.com/mock/629d727e6163854a32e8307e"]]',BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const W={class:"login-btn"},X={key:0,class:"test"},Y=S({__name:"LoginForm",setup(Q){const w=K,u=V(),I=T({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),l=V(!1),r=T({username:"",password:""}),k=x(),O=D(),m=e=>{e&&e.validate(async n=>{n&&await p(r)})},p=async e=>{try{l.value=!0,await k.UserLogin(e),O.push(z),q({title:H(),message:`欢迎登录 ${e.username}`,type:"success",duration:3e3}),l.value=!1}finally{l.value=!1}},y=e=>{e&&e.resetFields()};return F(()=>{document.onkeydown=e=>{if(e=window.event||e,e.code==="Enter"||e.code==="enter"||e.code==="NumpadEnter"){if(l.value)return;m(u.value)}}}),(e,n)=>{const L=a("user"),f=a("el-icon"),g=a("el-input"),E=a("el-form-item"),N=a("lock"),U=a("el-form"),v=a("el-button"),C=a("el-divider"),P=a("el-tag");return i(),c(R,null,[o(U,{ref_key:"loginFormRef",ref:u,model:r,rules:I,size:"large"},{default:t(()=>[o(E,{prop:"username"},{default:t(()=>[o(g,{modelValue:r.username,"onUpdate:modelValue":n[0]||(n[0]=s=>r.username=s),placeholder:"用户名：admin / user"},{prefix:t(()=>[o(f,{class:"el-input__icon"},{default:t(()=>[o(L)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(E,{prop:"password"},{default:t(()=>[o(g,{modelValue:r.password,"onUpdate:modelValue":n[1]||(n[1]=s=>r.password=s),type:"password",placeholder:"密码：123456","show-password":"",autocomplete:"new-password"},{prefix:t(()=>[o(f,{class:"el-input__icon"},{default:t(()=>[o(N)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),A("div",W,[o(v,{icon:d(B),round:"",size:"large",onClick:n[2]||(n[2]=s=>y(u.value))},{default:t(()=>[_(" 重置 ")]),_:1},8,["icon"]),o(v,{icon:d(b),round:"",size:"large",type:"primary",loading:l.value,onClick:n[3]||(n[3]=s=>m(u.value))},{default:t(()=>[_(" 登录 ")]),_:1},8,["icon","loading"])]),d(w).VITE_USER_NODE_ENV==="development"?(i(),c("div",X,[o(C,{"content-position":"center"},{default:t(()=>[_("演示账号一键登录")]),_:1}),(i(!0),c(R,null,M(d($),s=>(i(),G(P,{effect:"plain",class:"ml10 mr10",key:s.username,onClick:Z=>p(s)},{default:t(()=>[_(j(s.username),1)]),_:2},1032,["onClick"]))),128))])):h("",!0)],64)}}}),oe=J(Y,[["__scopeId","data-v-de88e2f3"]]);export{oe as default};
