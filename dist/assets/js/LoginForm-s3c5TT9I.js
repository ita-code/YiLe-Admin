import{d as P,r as V,G as v,I as D,u as B,s as F,e as a,o as _,f as c,k as o,w as t,h as x,j as i,b as d,J as A,K as M,F as I,m as b,T as h,g as $,H as z,L as G,M as H,i as q,t as j,_ as J}from"./index--mh7cVrB.js";var K={VITE_GLOB_APP_TITLE:"Admin",VITE_PORT:"1125",VITE_OPEN:"true",VITE_REPORT:"false",VITE_USER_NODE_ENV:"production",VITE_PUBLIC_PATH:"/ita-admin/",VITE_ROUTER_MODE:"hash",VITE_BUILD_COMPRESS:"none",VITE_BUILD_COMPRESS_DELETE_ORIGIN_FILE:"false",VITE_DROP_CONSOLE:"true",VITE_PWA:"true",VITE_API_URL:"https://mock.mengxuegu.com/mock/629d727e6163854a32e8307e",BASE_URL:"/ita-admin/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const W={class:"login-btn"},Q={key:0,class:"test"},X=P({__name:"LoginForm",setup(Y){const R=K,u=V(),O=v({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),l=V(!1),r=v({username:"",password:""}),w=D(),L=B(),m=e=>{e&&e.validate(async n=>{n&&await p(r)})},p=async e=>{try{l.value=!0,await w.UserLogin(e),L.push(z),H({title:G(),message:`欢迎登录 ${e.username}`,type:"success",duration:3e3}),l.value=!1}finally{l.value=!1}},k=e=>{e&&e.resetFields()};return F(()=>{document.onkeydown=e=>{if(e=window.event||e,e.code==="Enter"||e.code==="enter"||e.code==="NumpadEnter"){if(l.value)return;m(u.value)}}}),(e,n)=>{const S=a("user"),f=a("el-icon"),E=a("el-input"),g=a("el-form-item"),U=a("lock"),C=a("el-form"),T=a("el-button"),N=a("el-divider"),y=a("el-tag");return _(),c(I,null,[o(C,{ref_key:"loginFormRef",ref:u,model:r,rules:O,size:"large"},{default:t(()=>[o(g,{prop:"username"},{default:t(()=>[o(E,{modelValue:r.username,"onUpdate:modelValue":n[0]||(n[0]=s=>r.username=s),placeholder:"用户名：admin / user"},{prefix:t(()=>[o(f,{class:"el-input__icon"},{default:t(()=>[o(S)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(g,{prop:"password"},{default:t(()=>[o(E,{modelValue:r.password,"onUpdate:modelValue":n[1]||(n[1]=s=>r.password=s),type:"password",placeholder:"密码：123456","show-password":"",autocomplete:"new-password"},{prefix:t(()=>[o(f,{class:"el-input__icon"},{default:t(()=>[o(U)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),x("div",W,[o(T,{icon:d(A),round:"",size:"large",onClick:n[2]||(n[2]=s=>k(u.value))},{default:t(()=>[i(" 重置 ")]),_:1},8,["icon"]),o(T,{icon:d(M),round:"",size:"large",type:"primary",loading:l.value,onClick:n[3]||(n[3]=s=>m(u.value))},{default:t(()=>[i(" 登录 ")]),_:1},8,["icon","loading"])]),d(R).VITE_USER_NODE_ENV==="development"?(_(),c("div",Q,[o(N,{"content-position":"center"},{default:t(()=>[i("演示账号一键登录")]),_:1}),(_(!0),c(I,null,b(d(h),s=>(_(),q(y,{effect:"plain",class:"ml10 mr10",key:s.username,onClick:Z=>p(s)},{default:t(()=>[i(j(s.username),1)]),_:2},1032,["onClick"]))),128))])):$("",!0)],64)}}}),oe=J(X,[["__scopeId","data-v-de88e2f3"]]);export{oe as default};
