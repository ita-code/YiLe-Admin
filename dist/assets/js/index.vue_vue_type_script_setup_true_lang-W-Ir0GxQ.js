import{d as H,r as o,c as S,b as r,s as k,X as E,ak as L,a0 as R,o as b,f as B,h as D,D as m}from"./index--mh7cVrB.js";const M=["src"],$=H({__name:"index",props:{frameSrc:{type:String,default:""}},emits:["message"],setup(u,{expose:g,emit:h}){const p=h,i=o(window.innerHeight),c=S(()=>({height:`${r(i)}px`})),v=o(50);function w(){const e=r(a);if(!e)return;const t=145;v.value=t,i.value=window.innerHeight-t;const n=document.documentElement.clientHeight-t;e.style.height=`${n}px`}const s=o(!0),a=o();function _(){s.value=!1,w()}const l=e=>{p("message",e.data)},x=(e,t,n)=>{var f;const d=r(a);d&&((f=d.contentWindow)==null||f.postMessage(e,t,n))},y=()=>{var t;s.value=!0;const e=a.value;e&&((t=e.contentWindow)==null||t.location.reload(),s.value=!1)};return k(()=>{window.addEventListener("message",l)}),E(()=>{window.removeEventListener("message",l)}),g({postMessage:x,reload:y}),(e,t)=>{const n=L("loading");return R((b(),B("div",{class:"card content-box h-full w-full",style:m(c.value)},[D("iframe",{src:u.frameSrc,ref_key:"frameRef",ref:a,onLoad:_,frameborder:"0",class:"full-iframe",style:m(c.value)},null,44,M)],4)),[[n,s.value]])}}});export{$ as _};
