import{b as D}from"./index--mh7cVrB.js";function h(r){return typeof r=="function"?r():D(r)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const m=()=>{};function b(r,i){function t(...e){return new Promise((o,n)=>{Promise.resolve(r(()=>i.apply(this,e),{fn:i,thisArg:this,args:e})).then(o).catch(n)})}return t}function F(r,i={}){let t,e,o=m;const n=u=>{clearTimeout(u),o(),o=m};return u=>{const a=h(r),l=h(i.maxWait);return t&&n(t),a<=0||l!==void 0&&l<=0?(e&&(n(e),e=null),Promise.resolve(u())):new Promise((c,p)=>{o=i.rejectOnCancel?p:c,l&&!e&&(e=setTimeout(()=>{t&&n(t),e=null,c(u())},l)),t=setTimeout(()=>{e&&n(e),e=null,c(u())},a)})}}function P(r,i=!0,t=!0,e=!1){let o=0,n,s=!0,u=m,a;const l=()=>{n&&(clearTimeout(n),n=void 0,u(),u=m)};return p=>{const f=h(r),d=Date.now()-o,T=()=>a=p();return l(),f<=0?(o=Date.now(),T()):(d>f&&(t||!s)?(o=Date.now(),T()):i&&(a=new Promise((w,x)=>{u=e?x:w,n=setTimeout(()=>{o=Date.now(),s=!0,w(T()),l()},Math.max(0,f-d))})),!t&&!n&&(n=setTimeout(()=>s=!0,f)),s=!1,a)}}function j(r,i=200,t={}){return b(F(i,t),r)}function y(r,i=200,t=!1,e=!0,o=!1){return b(P(i,t,e,o),r)}export{y as a,j as u};
